1、MediaPlayer加入播放状态监听，根据不同状态给MainViewModel中的playOrPause属性更细化的设置状态，同时要将状态发给Service，用作Notification的提前准备,断开蓝牙时要停止播放。
2、有线耳机需要实现播放/暂停/上下一曲功能。
3、ForegroundService。用前台服务制作系统内定样式的Notification，并通过Notification实现上下一曲、暂停播放的功能。并加入音频焦点控制(如何可以让多个设备同时播放)。
4、保存最后的播放信息，下次启动时自动使用。
5、进度条功能。要在主页和通知中都加入进度条和SeekTo功能，最好再加入滑动SeekTo。
6、(可选)UI优化

最终挑战：
7、寻找免费新源，实现网络流媒体播放(流媒体播放的学习极大可能异常艰难)。
8、学习广告植入、混淆、等反破解方法。
9、应用发布，公开apk，招商。

1、删除了无用权限，改为正确权限
2、请求权限代码优化为可同时请求多个权限
3、加入了MediaPlayer的onPrepared监听，不再连续调用MediaPlayer的prepare和start
4、加入了自动播放下一曲的功能：MediaPlayer的setOnCompletionListener监听
5、由于现在的播放器都需要设置FLAG_HANDLES_TRANSPORT_CONTROLS/FLAG_HANDLES_MEDIA_BUTTONS，所以不再需要setFlags
6、现在可以在蓝牙/有线耳机断开连接时，停止播放音乐了
7、优化了代码
暂未实现：
无法通过有线耳机实现播放/暂停/上下一曲
